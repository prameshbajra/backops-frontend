<div class="object-container flex justify-start items-center gap-2 flex-wrap pl-16 py-20">
  @if(files.length === 0){
  <div class="w-full text-center py-20">
    <div class="text-gray-500 text-lg">
      <mat-icon class="text-xl mb-4 text-gray-300">folder_off</mat-icon>
      <p>No files available</p>
      <p class="text-sm text-gray-400">Upload some files to get started.</p>
    </div>
  </div>
  } @else {
  @for (file of files; track file.PK) {
  <div class="relative group" [ngClass]="{ 'outline outline-2 outline-blue-500 rounded-lg': file.isSelected }">
    <input type="checkbox" (click)="toggleSelection(file)" [checked]="file.isSelected"
      class="z-10 absolute top-2 left-2 w-6 h-6 rounded-full appearance-none border-2 border-gray-500 bg-white cursor-pointer transition-colors checked:bg-blue-500 checked:border-blue-500">
    <span class="z-10 absolute top-2 left-2 w-6 h-6 flex items-center justify-center text-white pointer-events-none"
      [ngClass]="{ 'opacity-100': file.isSelected, 'opacity-0': !file.isSelected }">
      âœ”
    </span>
    <img (click)="selectObject(file)" class="w-48 h-48 object-cover rounded-lg transition-transform" [ngClass]="{ 'scale-95': file.isSelected }"
      [src]="file.fileUrl" alt="" />
  </div>
  }
  }
</div>

<div [@slideInOut]="slideState" class="z-20 fixed bottom-0 left-0 right-0 bg-gray-100 p-4 flex justify-center gap-4 dark:bg-gray-900">
  <button (click)="deleteSelectedFiles()" class="px-3 py-1 bg-red-500 text-white text-sm rounded flex items-center gap-1 hover:bg-red-700">
    <mat-icon>delete</mat-icon>
    <span>{{getSelectedFilesCount() > 1 ? 'Delete all': 'Delete'}}</span>
  </button>
  <button (click)="downloadSelectedFiles()" class="px-3 py-1 bg-blue-500 text-white text-sm rounded flex items-center gap-1 hover:bg-blue-700">
    <mat-icon>cloud_download</mat-icon>
    <span class="ps-2">Download ({{ getSelectedFilesCount() }})</span>
  </button>
</div>
